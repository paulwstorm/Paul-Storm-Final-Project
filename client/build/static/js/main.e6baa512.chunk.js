(this["webpackJsonpps-final-project-app"]=this["webpackJsonpps-final-project-app"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"GET_POSTS",(function(){return P})),a.d(r,"GET_POST_CLOZES",(function(){return O})),a.d(r,"INCREMENT_POST_COUNT",(function(){return z})),a.d(r,"DECREMENT_POST_COUNT",(function(){return j})),a.d(r,"SET_VIEW_NUM",(function(){return S})),a.d(r,"REMOVE_GUESSED_CLOZE",(function(){return T})),a.d(r,"WORD_SEARCH",(function(){return W})),a.d(r,"NEW_SEARCH_TERM",(function(){return I})),a.d(r,"GET_USER_CLOZES",(function(){return B})),a.d(r,"GET_WORDS",(function(){return U})),a.d(r,"GET_USER",(function(){return _})),a.d(r,"getUser",(function(){return M})),a.d(r,"addRoomToUser",(function(){return L})),a.d(r,"getPosts",(function(){return D})),a.d(r,"getPostClozes",(function(){return R})),a.d(r,"getUserClozes",(function(){return A})),a.d(r,"getWords",(function(){return G})),a.d(r,"incrementPostNumber",(function(){return F})),a.d(r,"decrementPostNumber",(function(){return Y})),a.d(r,"markClozeCorrect",(function(){return K})),a.d(r,"addClozeToUser",(function(){return J})),a.d(r,"wordSearch",(function(){return Q})),a.d(r,"addWordToUserDict",(function(){return V})),a.d(r,"newSearchTerm",(function(){return q}));var n=a(0),s=a.n(n),o=a(22),l=a.n(o),c=a(12),i=a(26),m=a(27),u=a(25),p=a(53),d=a.n(p),h=a(2),E=a.n(h),v=a(11),f=a(5),w=a(6),N=a(7),b=a(8),y=a(107),k=a(108),g=a(111),C=(a(72),a(73),a(21)),x=a.n(C),P="get_posts",O="get_post_clozes",z="increment_post_count",j="decrement_post_count",S="set_view_num",T="remove_guessed_cloze",W="word_search",I="new_search_term",B="get_users_clozes",U="get_words",_="get_user";function M(){var e=x.a.get("/backend/userinfo",{withCredentials:!0});return{type:_,payload:e}}function L(e){var t={room:e},a=x.a.post("/backend/userinfo",t,{withCredentials:!0});return{type:_,payload:a}}function D(e,t){var a=x.a.get("/backend/posts?viewNum=".concat(e,"&startPost=").concat(t),{withCredentials:!0});return{type:P,payload:a}}function R(e,t){return H.apply(this,arguments)}function H(){return(H=Object(v.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/backend/posts/clozes?viewNum=".concat(t,"&startPost=").concat(a),{withCredentials:!0});case 2:return r=e.sent,e.abrupt("return",{type:O,payload:r});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,a){var r=x.a.get("/backend/user/clozes?viewNum=".concat(e,"&startPost=").concat(t,"&view=").concat(a),{withCredentials:!0});return{type:B,payload:r}}function G(e,t,a){return Z.apply(this,arguments)}function Z(){return(Z=Object(v.a)(E.a.mark((function e(t,a,r){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/backend/user/words?viewNum=".concat(t,"&startPost=").concat(a),{withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",{type:U,payload:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return{type:z,payload:e}}function Y(e){return{type:j,payload:e}}function K(e,t,a){var r=t;r.lastAttempt=e,r.lastAttemptDate=new Date;x.a.post("/backend/posts/clozes",r,{withCredentials:!0});var n=a.filter((function(e){return e.postContent!=t.postContent}));return{type:T,payload:n}}function J(e){var t=e;return t.lastAttempt="incorrect",t.lastAttemptDate=new Date,t.postClozedTokenizedContent=e.postTokenizedContent,t.multipleChoiceWords=[],t.removedWord="",x.a.post("/backend/posts/clozes",t,{withCredentials:!0})}function Q(e,t){var a=x.a.get("/backend/wordsearch?query=".concat(e,"&lang=").concat(t),{withCredentials:!0});return{type:W,payload:a}}function V(e){return x.a.put(x.a.post("/backend/addWordToDict",e,{withCredentials:!0}))}function q(e){return{type:I,payload:e}}var X=a(4),$=a(24),ee=(a(91),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={searchLanguage:"Chinese"},e.wordOnClick=e.wordOnClick.bind(Object($.a)(e)),e.intitialSearch=e.initialSearch.bind(Object($.a)(e)),e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.intitialSearch()}},{key:"initialSearch",value:function(){var e=this;this.props.searchTerm?this.props.wordSearch(this.props.searchTerm,this.state.searchLanguage):setTimeout((function(){e.intitialSearch()}),1e4)}},{key:"onEntryClick",value:function(e){this.props.addWordToUserDict(e),alert("".concat(e.simplified," added to your dictionary!"))}},{key:"wordOnClick",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.newSearchTerm(t);case 2:this.props.wordSearch(this.props.searchTerm,this.state.searchLanguage);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return 0==this.props.word.length?s.a.createElement("div",null,s.a.createElement(y.a,{className:"dictionary-top"},s.a.createElement("h4",{className:"dictionary-title"},"Search the Dictionary:"),s.a.createElement("span",null,s.a.createElement("form",{className:"input-group search-bar"},s.a.createElement("input",{className:"search-term",value:this.props.searchTerm,onChange:function(t){e.wordOnClick(t.target.value)}}),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("select",{className:"language-dropdown",onChange:function(t){e.setState({searchLanguage:t.target.value})}},s.a.createElement("option",{value:"Chinese"},"Chinese"),s.a.createElement("option",{value:"English"},"English")))))),s.a.createElement("div",null,"searching the dictionary...")):s.a.createElement("div",null,s.a.createElement(y.a,{className:"dictionary-top"},s.a.createElement("h4",{className:"dictionary-title"},"Search the Dictionary:"),s.a.createElement("span",null,s.a.createElement("form",{className:"input-group search-bar"},s.a.createElement("input",{value:this.props.searchTerm,onChange:function(t){console.log(t.target.value),e.wordOnClick(t.target.value)}}),s.a.createElement("br",null),s.a.createElement("select",{className:"category-dropdown",onChange:function(t){e.setState({searchLanguage:t.target.value})}},s.a.createElement("option",{value:"Chinese"},"Chinese"),s.a.createElement("option",{value:"English"},"English"))))),this.props.word.map((function(t,a){var r=a+1;return s.a.createElement("div",{className:"entry"},s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"simplified-traditional"},s.a.createElement("span",{className:"entry-num"},r,"."),s.a.createElement("span",{className:"simplified-char"},"Character: ",t.simplified),s.a.createElement("span",{class:"material-icons add-word",onClick:function(){e.onEntryClick(t)}},"add_circle_outline")))),s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"pinyin"},"Pronunciation: ",t.pinyin),s.a.createElement("div",{className:"entry-POS"},"Part of Speech: ",t.partOfSpeech))),s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"english-definition"},"Definition: ",t.english))))})))}}]),a}(n.Component));var te=Object(c.b)((function(e){return{word:e.searchResult,searchTerm:e.searchTerm}}),r)(ee),ae=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={show:!1},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"userNotSignedIn",value:function(){alert("Click a level to begin!")}},{key:"renderUserIcon",value:function(){var e=this;return Object.keys(this.props.user).length>0?s.a.createElement(m.b,{to:"/user"},s.a.createElement("span",{className:"user-icon"},s.a.createElement("i",{class:"fas fa-user fa-1x"}))):s.a.createElement("span",{className:"user-icon",onClick:function(t){e.userNotSignedIn()}},s.a.createElement("i",{class:"fas fa-user fa-1x"}))}},{key:"renderSearchIcon",value:function(){var e=this;return Object.keys(this.props.user).length>0?s.a.createElement("span",{className:"search-icon"},s.a.createElement("i",{class:"fas fa-search fa-1x",onClick:function(){e.setState({show:!0})}})):s.a.createElement("span",{className:"search-icon",onClick:function(t){e.userNotSignedIn()}},s.a.createElement("i",{class:"fas fa-search fa-1x"}))}},{key:"render",value:function(){var e=this;return this.props.getUser(),s.a.createElement("div",null,s.a.createElement(X.a,{className:"dictionary-modal",id:"dict-modal",size:"s",show:this.state.show,onHide:function(){e.setState({show:!1})}},s.a.createElement(X.a.Body,{class:"dictionary-body"},s.a.createElement(te,null))),s.a.createElement("div",{className:"header"},s.a.createElement(m.b,{to:"/user"},s.a.createElement("span",{className:"user-icon"},s.a.createElement("i",{class:"fas fa-user fa-1x"}))),s.a.createElement(m.b,{to:"/posts"},s.a.createElement("span",{className:"header-text"},"Cloze Weibo")),s.a.createElement("span",{className:"search-icon"},s.a.createElement("i",{class:"fas fa-search fa-1x",onClick:function(){e.setState({show:!0})}})),"                "))}}]),a}(n.Component);var re=Object(c.b)((function(e){return{user:e.user}}),r)(ae),ne=a(110),se=a(109),oe=(a(93),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={show:!1},e.wordOnClick=e.wordOnClick.bind(Object($.a)(e)),e}return Object(w.a)(a,[{key:"renderPostWords",value:function(e){var t=this;return e.map((function(e){return s.a.createElement("span",{onClick:function(){t.wordOnClick(e[0])}},e[0])}))}},{key:"addClozeButton",value:function(e){this.props.addClozeToUser(e),alert("Post added for study!")}},{key:"wordOnClick",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.newSearchTerm(t);case 2:this.setState({show:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderContentImage",value:function(e){return 0==e.postImageUrl.length?s.a.createElement(y.a,{className:"zhihuContent"},s.a.createElement(k.a,{sm:1}),s.a.createElement(k.a,{sm:10},s.a.createElement("div",{className:"postContent"},this.renderPostWords(e.postTokenizedContent))),s.a.createElement(k.a,{sm:1})):s.a.createElement(y.a,{className:"zhihuContent"},s.a.createElement(k.a,{xs:8},s.a.createElement("div",{className:"postContent"},this.renderPostWords(e.postTokenizedContent))),s.a.createElement(k.a,{xs:4},s.a.createElement("img",{className:"zhihuImage",src:e.postImageUrl,onError:function(e){e.target.onerror=null,e.target.src="http://pic.51yuansu.com/pic/cover/00/05/24/5736985738490_610.jpg"}})))}},{key:"renderPosts",value:function(e){var t=this;return"weibo"==e.postSource?s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"postCard"},s.a.createElement("div",{class:"card-body"},s.a.createElement(y.a,{className:"card-top"},s.a.createElement(k.a,{xs:7},s.a.createElement("div",{className:"user"},s.a.createElement("a",{href:"https://www.weibo.com/".concat(e.postUserUrl),target:"_blank"},s.a.createElement(se.a,{className:"userImage",roundedCircle:!0,fluid:!0,src:e.postUserImageUrl}),s.a.createElement("span",null,e.postUser)))),s.a.createElement(k.a,{xs:3,className:"post-level-col"},s.a.createElement("div",{className:"post-level"},"Lvl ",e.postLevel)),s.a.createElement(k.a,{xs:2,className:"source-icon"},s.a.createElement("i",{class:"fab fa-weibo fa-1x"}))),s.a.createElement("div",{className:"postContent"},this.renderPostWords(e.postTokenizedContent)),s.a.createElement(y.a,{className:"cardBotom"},s.a.createElement(k.a,{xs:6},s.a.createElement("div",{className:"postDate"},e.dateRetrieved.slice(0,10))),s.a.createElement(k.a,{xs:6},s.a.createElement("span",{class:"material-icons addCloze",onClick:function(){t.addClozeButton(e)}},"add_circle_outline")))))),s.a.createElement(k.a,{md:2}))):"zhihu_recommended"==e.postSource||"zhihu_hot"==e.postSource?s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"postCard"},s.a.createElement("div",{class:"card-body"},s.a.createElement(y.a,{className:"card-top"},s.a.createElement(k.a,{xs:7},s.a.createElement("a",{className:"postUrl",href:e.postUrl,target:"_blank"},"Zhihu Question:")),s.a.createElement(k.a,{xs:3},s.a.createElement("div",{className:"post-level"},"Lvl ",e.postLevel)),s.a.createElement(k.a,{xs:2,className:"source-icon"},s.a.createElement("i",{class:"fab fa-zhihu fa-1x"}))),s.a.createElement("div",null,this.renderContentImage(e)),s.a.createElement(y.a,{className:"cardBotom"},s.a.createElement(k.a,{xs:6},s.a.createElement("div",{className:"postDate"},e.dateRetrieved.slice(0,10))),s.a.createElement(k.a,{xs:6},s.a.createElement("span",{class:"material-icons addCloze",onClick:function(){t.addClozeButton(e)}},"add_circle_outline")))))),s.a.createElement(k.a,{md:2}))):"wangyi"==e.postSource.slice(0,6)||"toutiao"==e.postSource.slice(0,7)?s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"postCard"},s.a.createElement("div",{class:"card-body"},s.a.createElement(y.a,{className:"card-top"},s.a.createElement(k.a,{xs:3},s.a.createElement("a",{className:"postUrl",href:e.postUrl,target:"_blank"},"News Article:")),s.a.createElement(k.a,{xs:3},s.a.createElement("div",{className:"post-level"},"Lvl ",e.postLevel)),s.a.createElement(k.a,{xs:2,className:"source-icon"},s.a.createElement("i",{class:"fab fa-zhihu fa-1x"}))),s.a.createElement("div",{className:"postContent"},this.renderContentImage(e)),s.a.createElement(y.a,{className:"cardBotom"},s.a.createElement(k.a,{xs:6},s.a.createElement("div",{className:"postDate"},e.dateRetrieved.slice(0,10))),s.a.createElement(k.a,{xs:6},s.a.createElement("span",{class:"material-icons addCloze",onClick:function(){t.addClozeButton(e)}},"add_circle_outline")))))),s.a.createElement(k.a,{md:2}))):void 0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(X.a,{className:"dictionary-modal",id:"dict-modal",size:"s",show:this.state.show,onHide:function(){e.setState({show:!1})}},s.a.createElement(X.a.Body,{class:"dictionary-body"},s.a.createElement(te,null))),this.props.posts.map((function(t){return e.renderPosts(t)})))}}]),a}(n.Component));var le=Object(c.b)((function(e){return{posts:e.posts,searchTerm:e.searchTerm}}),r)(oe),ce=(a(30),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"intro"},s.a.createElement("h3",{className:"intro-header"},"Welcome to Posts!"),s.a.createElement("p",{className:"intro-paragraph"},"On this page you can see read of the recent posts tailored to your reading level!"),s.a.createElement("p",{className:"intro-paragraph"},"Use these buttons to toggle between reading posts and playing a fill-in-the-blank:"),s.a.createElement("br",null),s.a.createElement(se.a,{className:"sample-post",src:"https://raw.githubusercontent.com/paulwstorm/Paul-Storm-Final-Project/images/server/images/Screen%20Shot%202020-04-06%20at%207.45.45%20PM.png"}),s.a.createElement("br",null),s.a.createElement("p",{className:"intro-paragraph"},"Click on any character in the post to see the definition"),s.a.createElement("br",null),s.a.createElement("p",{className:"intro-paragraph"},'Clicking the "+" on any post or dictionary entry allows you to save the word or post for later study.'),s.a.createElement(se.a,{className:"add-word-pic",src:"https://raw.githubusercontent.com/paulwstorm/Paul-Storm-Final-Project/images/server/images/Screen%20Shot%202020-04-06%20at%208.02.30%20PM.png"}),s.a.createElement("br",null),s.a.createElement("br",null))}}]),a}(n.Component)),ie=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={viewNum:10,startPost:0,showIntroModal:!1},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.getPosts(this.props.viewNum,this.props.startPost),e.next=3,this.props.getUser();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkNewUser",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(this.props.user).length>0)){e.next=5;break}if(this.props.user.visited.includes("/posts")||0!=this.state.showIntroModal){e.next=5;break}return this.setState({showIntroModal:!0}),e.next=5,this.props.addRoomToUser("/posts");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderButtons",value:function(){var e=this;return this.props.startPost>9&&this.props.startPost<=90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:1}),s.a.createElement(k.a,{xs:10},s.a.createElement(g.a,{className:"posts-less-posts",onClick:function(t){e.props.getPosts(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Back"),s.a.createElement(g.a,{className:"posts-more-posts",onClick:function(t){e.props.getPosts(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next")),s.a.createElement(k.a,{xs:1})):this.props.startPost<10?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"posts-more-posts",onClick:function(t){e.props.getPosts(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next"),"                        "),s.a.createElement(k.a,{xs:2})):this.props.startPost>90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"posts-less-posts",onClick:function(t){e.props.getPosts(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.prps.viewNum),window.scrollTo(0,0)}},"Back")),s.a.createElement(k.a,{xs:2})):void 0}},{key:"render",value:function(){var e=this;return this.checkNewUser(),0==this.props.posts.length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"Loading Posts!")),s.a.createElement(k.a,{xs:4}))):s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(ce,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"posts-read-posts",href:"/posts/"},"Read"),s.a.createElement(g.a,{className:"posts-cloze-posts",href:"/posts/clozes"},"Challenge")),s.a.createElement(k.a,{xs:2})),s.a.createElement(le,null),this.renderButtons())}}]),a}(n.Component);var me=Object(c.b)((function(e){return{posts:e.posts,viewNum:e.viewNum,startPost:e.startPost,user:e.user}}),r)(ie),ue=(a(94),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(y.a,null,s.a.createElement(k.a,{sm:3}),s.a.createElement(k.a,{sm:6},s.a.createElement("p",{className:"selectLevelTitle"},"Welcome"),s.a.createElement("p",{className:"selectLevelTitle"},"\u6b22\u8fce\u5149\u4e34!"),s.a.createElement("div",{className:"intro-paragraph"},s.a.createElement("span",null,"To begin reading posts, please select the level that corresponds to your "),s.a.createElement("a",{className:"HSK-link",href:"https://en.wikipedia.org/wiki/Hanyu_Shuiping_Kaoshi",target:"_blank"},"HSK"),s.a.createElement("span",null," level and we'll provide content appropriate for you!"))),s.a.createElement(k.a,{sm:3})),s.a.createElement(y.a,{className:"select-level-row"},s.a.createElement(k.a,{sm:4}),s.a.createElement(k.a,{sm:4},s.a.createElement("form",{action:"/backend/login",method:"post"},s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",name:"username",value:"1"})),s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:"password"})),s.a.createElement(g.a,{variant:"secondary",type:"submit",value:"Log In",className:"level-button",block:!0},"Level 1")),s.a.createElement("form",{action:"/backend/login",method:"post"},s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",name:"username",value:"2"})),s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:"password"})),s.a.createElement(g.a,{variant:"secondary",type:"submit",value:"Log In",className:"level-button",block:!0},"Level 2")),s.a.createElement("form",{action:"/backend/login",method:"post"},s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",name:"username",value:"3"})),s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:"password"})),s.a.createElement(g.a,{variant:"secondary",type:"submit",value:"Log In",className:"level-button",block:!0},"Level 3")),s.a.createElement("form",{action:"/backend/login",method:"post"},s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",name:"username",value:"4"})),s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:"password"})),s.a.createElement(g.a,{variant:"secondary",type:"submit",value:"Log In",className:"level-button",block:!0},"Level 4")),s.a.createElement("form",{action:"/backend/login",method:"post"},s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",name:"username",value:"5"})),s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:"password"})),s.a.createElement(g.a,{variant:"secondary",type:"submit",value:"Log In",className:"level-button",block:!0},"Level 5")),s.a.createElement("form",{action:"/backend/login",method:"post"},s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Username:"),s.a.createElement("input",{type:"text",name:"username",value:"6"})),s.a.createElement("div",{className:"usernamePassword"},s.a.createElement("label",null,"Password:"),s.a.createElement("input",{type:"password",name:"password",value:"password"})),s.a.createElement(g.a,{variant:"secondary",type:"submit",value:"Log In",className:"level-button",block:!0},"Level 6"))),s.a.createElement(k.a,{sm:4})))}}]),a}(n.Component)),pe=(a(95),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",null,"Logged In"),s.a.createElement("a",{href:"http://localhost:5005/test"},"click here!"))}}]),a}(n.Component)),de=(a(96),a(97),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={showDict:!1,showIncorrect:!1,showCorrect:!1,guessedCloze:{},searchTerm:""},e.wordOnClick=e.wordOnClick.bind(Object($.a)(e)),e}return Object(w.a)(a,[{key:"checkCorrect",value:function(){var e=Object(v.a)(E.a.mark((function e(t,a,r){var n=this;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!=a){e.next=7;break}"correct",this.props.markClozeCorrect("correct",r,this.props.clozes),this.setState({showCorrect:!0}),setTimeout((function(){n.setState({showCorrect:!1})}),1e3),e.next=11;break;case 7:return"incorrect",this.props.markClozeCorrect("incorrect",r,this.props.clozes),e.next=11,this.setState({guessedCloze:r},this.setState({showIncorrect:!0}));case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"renderPostWords",value:function(e){var t=this;return e.map((function(e){return s.a.createElement("span",{onClick:function(){t.setState({showDict:!0}),t.wordOnClick(e[0])}},e[0])}))}},{key:"wordOnClick",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.newSearchTerm(t);case 2:this.props.wordSearch(this.props.searchTerm);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderContentImage",value:function(e){return 0==e.postImageUrl.length?s.a.createElement(y.a,{className:"zhihuContent"},s.a.createElement(k.a,{sm:1}),s.a.createElement(k.a,{sm:10},s.a.createElement("div",null,this.renderPostWords(e.postClozedTokenizedContent))),s.a.createElement(k.a,{sm:1})):s.a.createElement(y.a,{className:"zhihuContent"},s.a.createElement(k.a,{xs:8},s.a.createElement("div",null,this.renderPostWords(e.postClozedTokenizedContent))),s.a.createElement(k.a,{xs:4},s.a.createElement("img",{className:"zhihuImage",src:e.postImageUrl,onError:function(e){e.target.onerror=null,e.target.src="http://pic.51yuansu.com/pic/cover/00/05/24/5736985738490_610.jpg"}})))}},{key:"showGuessedCloze",value:function(){return console.log("this.state",this.state),s.a.createElement("div",{className:"show-incorrect"},s.a.createElement("div",null,"The correct answer is"),s.a.createElement("div",null,this.state.guessedCloze.removedWord),s.a.createElement("br",null),s.a.createElement("div",null,"Full post: "),s.a.createElement("div",null,this.state.guessedCloze.postContent))}},{key:"showCorrect",value:function(){return s.a.createElement("div",null,s.a.createElement("i",{class:"fas fa-check fa10x"}),s.a.createElement("div",null,"Correct!"))}},{key:"renderPosts",value:function(e){var t=this;return"weibo"==e.postSource?s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"postCard"},s.a.createElement("div",{class:"card-body"},s.a.createElement(y.a,{className:"card-top"},s.a.createElement(k.a,{xs:7},s.a.createElement("div",{className:"user"},s.a.createElement("a",{href:"https://www.weibo.com/".concat(e.postUserUrl),target:"_blank"},s.a.createElement(se.a,{className:"userImage",roundedCircle:!0,fluid:!0,src:e.postUserImageUrl}),s.a.createElement("span",null,e.postUser)))),s.a.createElement(k.a,{xs:3},s.a.createElement("div",{className:"post-level"},"Lvl ",e.postLevel)),s.a.createElement(k.a,{xs:2,className:"source-icon"},s.a.createElement("i",{class:"fab fa-weibo fa-1x"}))),s.a.createElement("div",{className:"postContent"},this.renderPostWords(e.postClozedTokenizedContent)),s.a.createElement(y.a,{className:"multipleChoiceTop"},s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[0],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[0])),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[1],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[1])),s.a.createElement(k.a,{xs:2})),s.a.createElement(y.a,{className:"multipleChoiceTop"},s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[2],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[2])),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[3],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[3])),s.a.createElement(k.a,{xs:2}))))),s.a.createElement(k.a,{md:2}))):"zhihu_recommended"==e.postSource||"zhihu_hot"==e.postSource?s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"postCard"},s.a.createElement("div",{class:"card-body"},s.a.createElement(y.a,{className:"card-top"},s.a.createElement(k.a,{xs:7},s.a.createElement("a",{className:"postUrl",href:e.postUrl,target:"_blank"},"Zhihu Question:")),s.a.createElement(k.a,{xs:3},s.a.createElement("div",{className:"post-level"},"Lvl ",e.postLevel)),s.a.createElement(k.a,{xs:2,className:"source-icon"},s.a.createElement("i",{class:"fab fa-zhihu fa-1x"}))),this.renderContentImage(e),s.a.createElement(y.a,{className:"multipleChoiceTop"},s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[0],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[0])),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[1],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[1])),s.a.createElement(k.a,{xs:2})),s.a.createElement(y.a,{className:"multipleChoiceTop"},s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[2],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[2])),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[3],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[3])),s.a.createElement(k.a,{xs:2}))))),s.a.createElement(k.a,{md:2}))):"wangyi"==e.postSource.slice(0,6)||"toutiao"==e.postSource.slice(0,7)?s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"postCard"},s.a.createElement("div",{class:"card-body"},s.a.createElement(y.a,{className:"card-top"},s.a.createElement(k.a,{xs:7},s.a.createElement("a",{className:"postUrl",href:e.postUrl,target:"_blank"},"News Article:")),s.a.createElement(k.a,{xs:3},s.a.createElement("div",{className:"post-level"},"Lvl ",e.postLevel)),s.a.createElement(k.a,{xs:2,className:"source-icon"},s.a.createElement("i",{class:"fab fa-zhihu fa-1x"}))),this.renderContentImage(e),s.a.createElement(y.a,{className:"multipleChoiceTop"},s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[0],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[0])),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[1],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[1])),s.a.createElement(k.a,{xs:2})),s.a.createElement(y.a,{className:"multipleChoiceTop"},s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[2],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[2])),s.a.createElement(k.a,{xs:4},s.a.createElement(g.a,{className:"multiple-choice",value:e.multipleChoiceWords[3],onClick:function(a){t.checkCorrect(a.target.value,e.removedWord,e)}},e.multipleChoiceWords[3])),s.a.createElement(k.a,{xs:2}))))),s.a.createElement(k.a,{md:2}))):void 0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(X.a,{className:"dictionary-modal",id:"dict-modal",size:"s",show:this.state.showDict,onHide:function(){e.setState({showDict:!1})}},s.a.createElement(X.a.Body,{class:"dictionary-body"},s.a.createElement(te,null))),s.a.createElement(X.a,{className:"cloze-modal",id:"cloze-modal",size:"s",show:this.state.showIncorrect,onHide:function(){e.setState({showIncorrect:!1})}},s.a.createElement(X.a.Body,{class:"show-incorrect-body"},this.showGuessedCloze())),s.a.createElement(X.a,{className:"correct-modal",id:"correct-modal",size:"s",show:this.state.showCorrect,onHide:function(){e.setState({showCorrect:!1})}},s.a.createElement(X.a.Body,{class:"show-incorrect-body"},this.showCorrect())),this.props.clozes.map((function(t){return e.renderPosts(t)})))}}]),a}(n.Component));var he=Object(c.b)((function(e){return{clozes:e.clozes,searchTerm:e.searchTerm}}),r)(de),Ee=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",{className:"intro-header"},"Welcome to the Challenge!"),s.a.createElement("p",{className:"intro-paragraph"},"Here you can see the same posts you were just reading but here you are challenged to fill-in-the-blank with the word that has been removed from the post"),s.a.createElement("p",{className:"intro-paragraph"},"The [------] represents the space the word has been taken from"),s.a.createElement("br",null),s.a.createElement("p",{className:"intro-paragraph"},"Click on of the four boxes at the bottom to fill in the blank!"))}}]),a}(n.Component),ve=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={showIntroModal:!1},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.getPostClozes(this.props.viewNum,this.props.startPost),e.next=3,this.props.getUser();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkNewUser",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(this.props.user).length>0)){e.next=5;break}if(this.props.user.visited.includes("/posts/clozes")||0!=this.state.showIntroModal){e.next=5;break}return this.setState({showIntroModal:!0}),e.next=5,this.props.addRoomToUser("/posts/clozes");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderButtons",value:function(){var e=this;return this.props.startPost>9&&this.props.startPost<=90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:1}),s.a.createElement(k.a,{xs:10},s.a.createElement(g.a,{className:"posts-clozes-less-posts",onClick:function(t){e.props.getPostClozes(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Back"),s.a.createElement(g.a,{className:"posts-clozes-more-posts",onClick:function(t){e.props.getPostClozes(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next")),s.a.createElement(k.a,{xs:1})):this.props.startPost<10?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"posts-clozes-more-posts",onClick:function(t){e.props.getPostClozes(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next"),"                        "),s.a.createElement(k.a,{xs:2})):this.props.startPost>90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"lposts-clozes-less-posts",onClick:function(t){e.props.getPostClozes(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.prps.viewNum),window.scrollTo(0,0)}},"Back")),s.a.createElement(k.a,{xs:2})):void 0}},{key:"render",value:function(){var e=this;return this.checkNewUser(),0==this.props.clozes.length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"Loading Clozes!")),s.a.createElement(k.a,{xs:4}))):s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"dictionary-body"},s.a.createElement(Ee,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"posts-clozes-read-posts",href:"/posts/"},"Read"),s.a.createElement(g.a,{className:"posts-clozes-cloze-posts",href:"/posts/clozes"},"Challenge")),s.a.createElement(k.a,{xs:2})),s.a.createElement(he,null),this.renderButtons())}}]),a}(n.Component);var fe=Object(c.b)((function(e){return{clozes:e.clozes,viewNum:e.viewNum,startPost:e.startPost,user:e.user}}),r)(ve),we=(a(98),a(99),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",{className:"intro-header"},"Welcome to You User Page!"),s.a.createElement("p",{className:"intro-paragraph"},"Here you can see all the words you saved from the dictionary as well as all of the post you have saved or attempted to fill in the blank."))}}]),a}(n.Component)),Ne=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={showIntroModal:!1},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getUser();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkNewUser",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(this.props.user).length>0)){e.next=5;break}if(this.props.user.visited.includes("/user")||0!=this.state.showIntroModal){e.next=5;break}return this.setState({showIntroModal:!0}),e.next=5,this.props.addRoomToUser("/user");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.checkNewUser(),s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(we,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{className:"user-page-buttons",xs:4},s.a.createElement("div",null,s.a.createElement(g.a,{className:"my-clozes",href:"/user/clozes"}," My Clozes")),s.a.createElement("div",null,s.a.createElement(g.a,{className:"my-words",href:"/user/words"},"My Words"))),s.a.createElement(k.a,{xs:4})))}}]),a}(n.Component);var be=Object(c.b)((function(e){return{user:e.user}}),r)(Ne),ye=(a(100),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",{className:"intro-header"},"These are your saved posts!"),s.a.createElement("p",{className:"intro-paragraph"},'Here you can see all of the posts that you have saved. As well as all of the posts have you filled-in-the-blank with. By default you will only see the posts you recently saved and those posts you answered incorrectly last time. Select "All" to see all of the posts you saved.'))}}]),a}(n.Component)),ke=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={show:!1,view:"incorrect",incorrectButton:"button-on",allButton:"button-off",showIntroModal:!1},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.getUserClozes(this.props.viewNum,this.props.startPost,this.state.view),e.next=3,this.props.getUser();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleToggleClick",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({view:t});case 2:this.props.getUserClozes(this.props.viewNum,this.props.startPost,this.state.view);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderButtons",value:function(){var e=this;return this.props.startPost>9&&this.props.startPost<=90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:1}),s.a.createElement(k.a,{xs:10},s.a.createElement(g.a,{className:"posts-clozes-less-posts",onClick:function(t){e.props.getPostClozes(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Back"),s.a.createElement(g.a,{className:"posts-clozes-more-posts",onClick:function(t){e.props.getPostClozes(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next")),s.a.createElement(k.a,{xs:1})):this.props.startPost<10?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"posts-clozes-more-posts",onClick:function(t){e.props.getUserClozes(e.props.viewNum,e.props.startPost+10,e.state.view),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next"),"                        "),s.a.createElement(k.a,{xs:2})):this.props.startPost>90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"lposts-clozes-less-posts",onClick:function(t){e.props.getUserClozes(e.props.viewNum,e.props.startPost-10,e.state.view),e.props.decrementPostNumber(e.prps.viewNum),window.scrollTo(0,0)}},"Back")),s.a.createElement(k.a,{xs:2})):void 0}},{key:"checkNewUser",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(this.props.user).length>0)){e.next=5;break}if(this.props.user.visited.includes("/user/clozes")||0!=this.state.showIntroModal){e.next=5;break}return this.setState({showIntroModal:!0}),e.next=5,this.props.addRoomToUser("/user/clozes");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.checkNewUser(),0==Object.keys(this.props.user).length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(ye,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:this.state.incorrectButton,onClick:function(){e.handleToggleClick("incorrect"),e.setState({allButton:"button-off"}),e.setState({incorrectButton:"button-on"})}},"Incorrect"),s.a.createElement(g.a,{className:this.state.allButton,onClick:function(){e.handleToggleClick("all"),e.setState({incorrectButton:"button-off"}),e.setState({allButton:"button-on"})}},"All")),s.a.createElement(k.a,{xs:2})),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"Loading your saved posts!")),s.a.createElement(k.a,{xs:4}))):0==this.props.clozes.length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(ye,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:this.state.incorrectButton,onClick:function(){e.handleToggleClick("incorrect"),e.setState({allButton:"button-off"}),e.setState({incorrectButton:"button-on"})}},"Incorrect"),s.a.createElement(g.a,{className:this.state.allButton,onClick:function(){e.handleToggleClick("all"),e.setState({incorrectButton:"button-off"}),e.setState({allButton:"button-on"})}},"All")),s.a.createElement(k.a,{xs:2})),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"You don't have any saved posts!"),s.a.createElement("p",null,'Click on the "+" button on any posts to save it'),s.a.createElement("p",null,"or play the fill-in-blank challenge and any posts you guess with be saved to your posts.")),s.a.createElement(k.a,{xs:4}))):s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(ye,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:this.state.incorrectButton,onClick:function(){e.handleToggleClick("incorrect"),e.setState({allButton:"button-off"}),e.setState({incorrectButton:"button-on"})}},"Incorrect"),s.a.createElement(g.a,{className:this.state.allButton,onClick:function(){e.handleToggleClick("all"),e.setState({incorrectButton:"button-off"}),e.setState({allButton:"button-on"})}},"All")),s.a.createElement(k.a,{xs:2})),s.a.createElement(he,null),this.renderButtons())}}]),a}(n.Component);var ge=Object(c.b)((function(e){return{clozes:e.clozes,viewNum:e.viewNum,startPost:e.startPost,user:e.user}}),r)(ke),Ce=(a(101),a(102),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"renderWord",value:function(e){return s.a.createElement("div",{className:"word-card"},s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"simplified-traditional"},s.a.createElement("span",{className:"word-simplified-char"},"Character: ",e.simplified),s.a.createElement("span",{className:"traditional-char"},"  (",e.traditional,")")))),s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"word-pinyin"},"Pronunciation: ",e.pinyin),s.a.createElement("div",{className:"word-POS"},"Part of Speech: ",e.partOfSpeech))),s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"word-english-definition"},"Definition: ",e.english))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.props.words.map((function(t){return e.renderWord(t)})))}}]),a}(n.Component));var xe=Object(c.b)((function(e){return{words:e.words}}))(Ce),Pe=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h3",{className:"intro-header"},"Welcome to Your Dictionary!"),s.a.createElement("p",{className:"intro-paragraph"},"If you don't see any words here go back to the posts page and click on any word in the post. Once the defintion pops up click the plus symbol."),s.a.createElement("br",null),s.a.createElement("p",{className:"intro-paragraph"},"Here you can see all the words you saved into your dictionary. Use these buttons to toggle between reading the word defintions and challening your vocabulary retention!"),s.a.createElement(se.a,{className:"sample-post",src:"https://raw.githubusercontent.com/paulwstorm/Paul-Storm-Final-Project/images/server/images/Screen%20Shot%202020-04-06%20at%209.01.09%20PM.png"}),s.a.createElement("p",{className:"intro-paragraph"},'When in study mode, click the word to "flip" the flash card over and see the whole word.'))}}]),a}(n.Component),Oe=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={showIntroModal:!1},e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.getWords(this.props.viewNum,this.props.startPost),e.next=3,this.props.getUser();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderButtons",value:function(){var e=this;return this.props.startPost>9&&this.props.startPost<=90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:1}),s.a.createElement(k.a,{xs:10},s.a.createElement(g.a,{className:"words-less-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Back"),s.a.createElement(g.a,{className:"words-more-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next")),s.a.createElement(k.a,{xs:1})):this.props.startPost<10?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"words-more-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next"),"                        "),s.a.createElement(k.a,{xs:2})):this.props.startPost>90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"words-less-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.prps.viewNum),window.scrollTo(0,0)}},"Back")),s.a.createElement(k.a,{xs:2})):void 0}},{key:"checkNewUser",value:function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Object.keys(this.props.user).length>0)){e.next=5;break}if(this.props.user.visited.includes("/user/words")||0!=this.state.showIntroModal){e.next=5;break}return this.setState({showIntroModal:!0}),e.next=5,this.props.addRoomToUser("/user/words");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.checkNewUser(),0==Object.keys(this.props.user).length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(Pe,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"Loading Words!")),s.a.createElement(k.a,{xs:4}))):0==this.props.words.length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(Pe,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"Your dictionary is empty!"),s.a.createElement("p",null,"Click on the search bar to search the dictionary or click on any post to add words from that post.")),s.a.createElement(k.a,{xs:4}))):s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(X.a,{className:"intro-modal",size:"s",show:this.state.showIntroModal,onHide:function(){e.setState({showIntroModal:!1})}},s.a.createElement(X.a.Body,{class:"intro-body"},s.a.createElement(Pe,null))),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"words-read-words",href:"/user/words"},"Read"),s.a.createElement(g.a,{className:"words-study-words",href:"/user/words/study"},"Study")),s.a.createElement(k.a,{xs:2})),s.a.createElement(xe,null),this.renderButtons())}}]),a}(n.Component);var ze=Object(c.b)((function(e){return{words:e.words,viewNum:e.viewNum,startPost:e.startPost,user:e.user}}),r)(Oe),je=(a(103),a(104),function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).state={wordBack:{},show:!1},e}return Object(w.a)(a,[{key:"renderWord",value:function(e){var t=this;return s.a.createElement(y.a,null,s.a.createElement(k.a,{s:10},s.a.createElement("div",null,s.a.createElement(y.a,null,s.a.createElement(k.a,{md:2}),s.a.createElement(k.a,{md:8},s.a.createElement(ne.a,{className:"word-study-card",onClick:function(a){t.setState({wordBack:e}),t.setState({show:!0})}},s.a.createElement("div",{class:"card-body"},e.simplified))),s.a.createElement(k.a,{md:2})))))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(X.a,{className:"word-modal",id:"word-modal",size:"s",show:this.state.show,onHide:function(){e.setState({show:!1})}},s.a.createElement(X.a.Body,{class:"word-body"},s.a.createElement("div",{className:"word-back-card"},s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"simplified-traditional"},s.a.createElement("span",{className:"word-simplified-char"},"Character: ",this.state.wordBack.simplified),s.a.createElement("span",{className:"traditional-char"},"  (",this.state.wordBack.traditional,")")))),s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"word-pinyin"},"Pronunciation: ",this.state.wordBack.pinyin),s.a.createElement("div",{className:"word-POS"},"Part of Speech: ",this.state.wordBack.partOfSpeech))),s.a.createElement(y.a,null,s.a.createElement(k.a,{s:12},s.a.createElement("div",{className:"word-english-definition"},"Definition: ",this.state.wordBack.english)))))),this.props.words.map((function(t){return e.renderWord(t)})))}}]),a}(n.Component));var Se=Object(c.b)((function(e){return{words:e.words}}))(je),Te=function(e){Object(b.a)(a,e);var t=Object(N.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.getWords(this.props.viewNum,this.props.startPost)}},{key:"renderButtons",value:function(){var e=this;return this.props.startPost>9&&this.props.startPost<=90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:1}),s.a.createElement(k.a,{xs:10},s.a.createElement(g.a,{className:"words-less-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Back"),s.a.createElement(g.a,{className:"words-more-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next")),s.a.createElement(k.a,{xs:1})):this.props.startPost<10?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"words-more-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost+10),e.props.incrementPostNumber(e.props.viewNum),window.scrollTo(0,0)}},"Next"),"                        "),s.a.createElement(k.a,{xs:2})):this.props.startPost>90?s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"words-less-words",onClick:function(t){e.props.getWords(e.props.viewNum,e.props.startPost-10),e.props.decrementPostNumber(e.prps.viewNum),window.scrollTo(0,0)}},"Back")),s.a.createElement(k.a,{xs:2})):void 0}},{key:"render",value:function(){return 0==this.props.words.length?s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:4}),s.a.createElement(k.a,{xs:4},s.a.createElement("h2",{className:"loading"},"Loading Words!")),s.a.createElement(k.a,{xs:4}))):s.a.createElement("div",null,s.a.createElement(re,null),s.a.createElement(y.a,null,s.a.createElement(k.a,{xs:2}),s.a.createElement(k.a,{xs:8},s.a.createElement(g.a,{className:"study-read-words",href:"/user/words"},"Read"),s.a.createElement(g.a,{className:"study-study-words",href:"/user/words/study"},"Study")),s.a.createElement(k.a,{xs:2})),s.a.createElement(Se,null),this.renderButtons())}}]),a}(n.Component);var We=Object(c.b)((function(e){return{words:e.words,viewNum:e.viewNum,startPost:e.startPost}}),r)(Te);function Ie(e){var t,a,r;for(r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),a=e[r],e[r]=e[t],e[t]=a;return e}function Be(e){var t,a,r;for(r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),a=e[r],e[r]=e[t],e[t]=a;return e}var Ue=Object(i.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return e=[],e=Ie(e=t.payload.data);default:return e}},clozes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var a=[];if(a=t.payload.data,console.log(a.clozedPosts[9]),void 0==a.clozedPosts)return a=[];for(var r=0;r<a.posts.length;r++){a.posts[r].postClozedTokenizedContent=a.clozedPosts[r][0];var n=a.clozedPosts[r][2];n.push(a.clozedPosts[r][1][0]);var s=a.clozedPosts[r][1];a.posts[r].removedWord=s[0],n=Be(n),a.posts[r].multipleChoiceWords=n}return a.posts;case B:if(void 0==(e=t.payload.data).clozedPosts)return e=[];for(r=0;r<e.posts.length;r++){e.posts[r].postClozedTokenizedContent=e.clozedPosts[r][0];var o=e.clozedPosts[r][1],l=e.clozedPosts[r][2];l.push(e.clozedPosts[r][1][0]),e.posts[r].removedWord=o[0],l=Be(l),e.posts[r].multipleChoiceWords=l}return e.posts;case T:return t.payload;default:return e}},startPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var a=e+t.payload;return a;case j:var r=e-t.payload;return r;default:return e}},viewNum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:t.payload;default:return e}},searchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return e=t.payload;default:return e}},searchResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var a=t.payload.data;return a=(a=a.sort((function(e,t){return e.wordRank>t.wordRank?1:-1}))).slice(0,10),console.log("searchResultReducer",a),e=a;default:return e}},words:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return e=t.payload.data;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return e=t.payload.data;default:return e}}}),_e=Object(i.a)(d.a)(i.d);l.a.render(s.a.createElement(c.a,{store:_e(Ue)},s.a.createElement(m.a,null,s.a.createElement("div",null,s.a.createElement(u.c,null,s.a.createElement(u.a,{exact:!0,path:"/",component:ue}),s.a.createElement(u.a,{exact:!0,path:"/test",component:pe}),s.a.createElement(u.a,{exact:!0,path:"/posts",component:me}),s.a.createElement(u.a,{exact:!0,path:"/posts/clozes",component:fe}),s.a.createElement(u.a,{exact:!0,path:"/user",component:be}),s.a.createElement(u.a,{exact:!0,path:"/user/clozes",component:ge}),s.a.createElement(u.a,{exact:!0,path:"/user/words",component:ze}),s.a.createElement(u.a,{exact:!0,path:"/user/words/study",component:We}))))),document.getElementById("root"))},30:function(e,t,a){},58:function(e,t,a){e.exports=a(105)},72:function(e,t,a){},73:function(e,t,a){},91:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.e6baa512.chunk.js.map